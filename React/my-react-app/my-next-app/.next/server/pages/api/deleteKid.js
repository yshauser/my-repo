"use strict";(()=>{var e={};e.id=722,e.ids=[722],e.modules={5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},3873:e=>{e.exports=require("path")},6762:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},73:(e,t,r)=>{r.r(t),r.d(t,{config:()=>c,default:()=>p,routeModule:()=>P});var i={};r.r(i),r.d(i,{default:()=>f});var n=r(9947),o=r(325),d=r(6762);let a=require("fs");var s=r.n(a),u=r(3873),l=r.n(u);async function f(e,t){if("DELETE"!==e.method)return t.status(405).json({error:"Method not allowed"});let r=e.query.id,i=l().join(process.cwd(),"db/kids.txt");try{let e=(await s().promises.readFile(i,"utf8")).split("// Kid #").filter(e=>e.trim()).filter(e=>{let t=e.split("\n").filter(e=>e.trim()),i={};return t.forEach(e=>{let[t,r]=e.split(":").map(e=>e.trim());t&&r&&(i[t.replace(" ","")]=r)}),i.KidID!==r}).map(e=>`// Kid #${e}`).join("\n\n");await s().promises.writeFile(i,e,"utf8"),t.status(200).json({message:"Kid deleted successfully"})}catch(e){console.error("Error deleting kid:",e),t.status(500).json({error:"Failed to delete kid"})}}let p=(0,d.M)(i,"default"),c=(0,d.M)(i,"config"),P=new n.PagesAPIRouteModule({definition:{kind:o.A.PAGES_API,page:"/api/deleteKid",pathname:"/api/deleteKid",bundlePath:"",filename:""},userland:i})},325:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},9947:(e,t,r)=>{e.exports=r(5600)}};var t=require("../../webpack-api-runtime.js");t.C(e);var r=t(t.s=73);module.exports=r})();